<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ausgaben-Tracker</title>

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">

  <!-- Externe Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
</head>
<body>
  <div class="container">
    <h1>🛒 Ausgaben-Tracker</h1>

    <!-- Upload -->
    <div class="upload-section" id="uploadSection" onclick="expandUpload()">
      <div class="upload-header">
        <h3>CSV-Datei laden</h3>
      </div>
      <div class="upload-content">
        <p><strong>Laden Sie eine CSV-Datei mit allen Ihren Ausgaben hoch.</strong></p>
        <p>Erforderliche Spalten: <code>Datum,Artikel,Kategorie,Preis,Shop</code></p>
        <div class="file-input" onclick="event.stopPropagation();">
          <input type="file" id="csvFile" accept=".csv,.txt" />
          <label for="csvFile">📁 Datei auswählen</label>
        </div>
        <div style="margin: 15px 0;">oder</div>
        <div onclick="event.stopPropagation();">
          <input type="url" id="csvUrl" placeholder="https://example.com/expenses.csv" class="url-input">
          <button onclick="loadFromUrl()" class="btn">URL laden</button>
        </div>
        <div id="errorMessage"></div>
      </div>
    </div>

    <!-- Monatswahl -->
    <div id="monthSelector" class="month-selector" style="display:none;">
      <h3>Monat auswählen (2025)</h3>
      <div class="month-buttons">
        <button class="month-btn" onclick="filterByMonth('all')" data-month="all">Alle</button>
        <button class="month-btn" onclick="filterByMonth('01')" data-month="01">Jan</button>
        <button class="month-btn" onclick="filterByMonth('02')" data-month="02">Feb</button>
        <button class="month-btn" onclick="filterByMonth('03')" data-month="03">Mär</button>
        <button class="month-btn" onclick="filterByMonth('04')" data-month="04">Apr</button>
        <button class="month-btn" onclick="filterByMonth('05')" data-month="05">Mai</button>
        <button class="month-btn" onclic
